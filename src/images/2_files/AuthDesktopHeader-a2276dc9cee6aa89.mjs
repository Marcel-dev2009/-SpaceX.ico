"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[82952],{904391:(e,t,n)=>{n.d(t,{Z:()=>T});var s=n(667294),i=n(616550),o=n(883119),a=n(989820),r=n(282685),l=n(40553),c=n(144326),d=n(559028),u=n(476198),h=n(887103),_=n(516733),m=n(868808),p=n(785893),x=n(282999),f=n(128581),g=n(961754),b=n(901450),y=n(383399),A=n(195737),j=n(732567),w=n(241716),P=n(402189),v=n(461661),C=n(664331),S=n(48347);function T({currentSite:e,isSterlingOnSteroids:t,isAdsNavMenuEnabled:n,advertiser:T,idealTooltipDirection:I,icon:k,iconSize:O,iconLabel:z,defaultIconColor:Z,selectedIconColor:B,tooltipZIndex:E,onClick:R,onPanelChange:L,showMoreOptions:D=!0}){let N=(0,c.ZP)(),{showAccountMenuFlyout:H,updateHeaderState:U}=(0,j.Z)(),M=e=>{U({type:e?"showAccountMenuFlyout":"hideAccountMenuFlyout"})},[F,W]=(0,s.useState)(!1),[Y,$]=(0,s.useState)(!0),G=(0,i.k6)(),q=(0,y.Z)(),Q=(0,C.Z)(),V=(0,v.Z)({user:Q.data,viewer:q}),K=V&&Y,X=(0,g.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:q.isAuth?q.id:""}}),J=(0,s.useRef)(null),ee=(0,l.YG)(e)&&!t||(0,l.Dm)(e)||(0,l.Y3)(e),et=(0,l.Y3)(e)||n,en=(0,i.TH)(),es=(0,b.F9)();(0,s.useEffect)(()=>{!function({showOneToast:e,i18n:t,location:n,history:s,username:i,fullName:o,avatarUrl:a}){if(!(n&&n.search))return;let r=(0,_.Z)(t,n,i||""),{message:l}=(0,m.mB)(n.search),c=l===h.pN||l===h.aU;r&&(e(({hideToast:e})=>/*#__PURE__*/(0,p.jsx)(u.Z,{duration:h.Jl,onHide:e,text:r,thumbnail:c?{avatar:/*#__PURE__*/(0,p.jsx)(d.qE,{name:o||"",size:"md",src:a||""})}:void 0})),s.replace(n.hash?`${n.pathname}${n.hash}`:n.pathname))}({showOneToast:es.showOneToast,i18n:N,location:en,history:G,username:q.username||"",fullName:q.fullName||"",avatarUrl:q.imageMediumUrl||""})},[]),(0,s.useEffect)(()=>(q.isAuth&&q.partner&&(0,f.Mt)(q,X.data),()=>{q.isAuth&&q.partner&&(0,f.CV)("flyout.dismiss")}),[]),(0,s.useEffect)(()=>{(X.data?.businesses??[]).length>0&&W(!0)},[X]),(0,s.useEffect)(()=>{L?.(H)},[H]);let{pathname:ei}=en,eo=!(ei.startsWith("/settings")||ei.startsWith("/edit"))&&(q.username&&ei.startsWith(`/${q.username}`)||ei.startsWith("/news_hub")),ea=V||ei.startsWith("/homefeed")||ei.startsWith("/business/hub")||"/"===ei;return/*#__PURE__*/(0,p.jsx)(A.T,{children:/*#__PURE__*/(0,p.jsxs)(S.j,{children:[/*#__PURE__*/(0,p.jsx)(o.xu,{ref:J,"data-test-id":"header-accounts-options-button",children:/*#__PURE__*/(0,p.jsx)(o.hU,{accessibilityLabel:z??N._('Accounts and more options', 'header.accountsOptionsMenu.accountsOptionsMenuButton', 'accessibility label for the button that shows the accounts/options menu'),icon:k||"arrow-down",iconColor:H?B||"darkGray":Z||"gray",onClick:()=>{R?.(),M(!H),W(!1),$(!1)},size:O||"xs",tooltip:{accessibilityLabel:"",text:z??N._('Accounts and more options', 'navbar.actionsOptionsButton.tooltip', 'Tooltip text for icon button to open accounts/options menu'),zIndex:E||new o.H3([w.NW]),idealDirection:I}})}),H&&/*#__PURE__*/(0,p.jsx)(o.xu,{"data-test-id":"HeaderAccountsOptionsFlyout",children:/*#__PURE__*/(0,p.jsx)(r.Z,{advertiser:T,anchor:J.current,isWwwSite:(0,l.YG)(e),onDismiss:()=>{M(!1)},showAccountSwitcher:ee,showAdsSupportOption:et,showMoreOptions:D})}),F&&/*#__PURE__*/(0,p.jsx)(o.xu,{"data-test-id":"LinkedBusinessAccountFlyout",children:/*#__PURE__*/(0,p.jsx)(a.Qp,{anchor:J.current,experienceIds:[502787],placementId:1000109,showCaret:!0})}),(0,x.LO)(en)&&/*#__PURE__*/(0,p.jsx)(a.Qp,{anchor:J.current,experienceIds:[503137],idealDirection:"left",placementId:1000303}),q.isAuth&&!q.partner?/*#__PURE__*/(0,p.jsx)(o.mh,{zIndex:new o.H3([P.pS]),children:/*#__PURE__*/(0,p.jsx)(a.Qp,{anchor:J.current,experienceIds:[503893,503602],onClickComplete:()=>G.push("/settings"),placementId:1000109,showCaret:!0})}):null,K&&/*#__PURE__*/(0,p.jsx)(o.mh,{zIndex:new o.H3([P.pS]),children:/*#__PURE__*/(0,p.jsx)(a.Qp,{anchor:J.current,experienceIds:[505848],hasFullWidthButton:!1,onClickComplete:()=>{$(!1),G.push("/settings/permissions")},placementId:1000109,showCaret:!0,textWeight:"normal"})}),eo&&/*#__PURE__*/(0,p.jsx)(o.mh,{zIndex:new o.H3([P.pS]),children:/*#__PURE__*/(0,p.jsx)(a.Qp,{anchor:J.current,experienceIds:[505283],flyoutSize:"md",hasFullWidthButton:!1,onClickComplete:()=>{G.push("/settings/privacy/")},placementId:1000109,showCaret:!0,textAlign:"center",textWeight:"bold"})}),ea&&/*#__PURE__*/(0,p.jsx)(o.mh,{zIndex:new o.H3([P.pS]),children:/*#__PURE__*/(0,p.jsx)(a.Qp,{anchor:J.current,experienceIds:[505949],hasFullWidthButton:!1,onClickComplete:()=>{G.push("/settings/claim")},placementId:1000109,showCaret:!0,textWeight:"normal"})})]})})}},702206:(e,t,n)=>{n.d(t,{Z:()=>s});function s(e){return"object"==typeof e&&null!==e&&"url"in e&&"media"in e}},49969:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(667294),i=n(573706),o=n(477058);let a=e=>{let t=(0,s.useRef)(!1),{logContextEvent:n}=(0,i.v)(),{viewType:a,viewParameter:r}=(0,o.SU)();(0,s.useEffect)(()=>{Object.entries(e).length>0&&!t.current&&a&&(n({event_type:13,view_type:a,view_parameter:r,...e}),t.current=!0)})}},887103:(e,t,n)=>{n.d(t,{Di:()=>a,Jl:()=>s,R:()=>i,aU:()=>r,j2:()=>o,pN:()=>l});let s=1e4,i="permanent_account_closure",o="account_deletion_email_sent",a="account_deactivated",r="unlink_successful",l="account_switch_to_settings"},516733:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(508442),i=n(868808);function o(e,t,n=""){if(!(t&&t.search))return"";let{message:a}=(0,i.mB)(t.search),r=(0,i.mB)(t.search).username||n,l="true"===(0,i.mB)(t.search).multiple_accounts;return(0,s.Z)({i18n:e,message:a,multipleAccounts:l,username:r})}},508442:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(883119),i=n(240760),o=n(887103),a=n(785893);function r(e,t,n){return/*#__PURE__*/(0,a.jsx)(s.xv,{align:n||"center",children:(0,i.nk)(e,{username:/*#__PURE__*/(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:t})})})}function l({i18n:e,message:t,multipleAccounts:n,username:s=""}){switch(t){case o.R:return e._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case o.j2:if(n)return r(e._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'),s);return r(e._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),s);case o.Di:return r(n?e._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):e._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),s);case o.aU:return r(e._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),s,"start");case o.pN:return r(e._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),s,"start");default:return""}}},754166:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(720398),i=n(566344);function o({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:o,advertiserId:a}){let r=e||t||n?`${i.C0}`:"",l=`${r}${o}`;return a?(0,s.Z)(l,{advertiserId:a}):l}},71386:(e,t,n)=>{n.r(t),n.d(t,{Header:()=>J,default:()=>ee});var s=n(667294),i=n(616550),o=n(883119),a=n(481238),r=n(453424),l=n(503546),c=n(700941),d=n(259232),u=n(702206),h=n(854864),_=n(955937),m=n(989820),p=n(904391),x=n(144326),f=n(282999),g=n(375182),b=n(297728),y=n(730212),A=n(335452),j=n(154785),w=n(868808),P=n(554743),v=n(674389),C=n(573706),S=n(844991),T=n(785893);let I=({isSelected:e,onClick:t})=>{let n=(0,x.ZP)(),{logContextEvent:l}=(0,C.v)(),c=(0,r.Z)(!0),d=(0,s.useRef)(null),[u,h]=(0,s.useState)(!1),_=(0,i.k6)(),m=e=>{l({event_type:101,component:13988,element:e}),h(!1)};return/*#__PURE__*/(0,T.jsxs)(s.Fragment,{children:[/*#__PURE__*/(0,T.jsx)(o.xu,{ref:d,"data-test-id":"create-tab",children:/*#__PURE__*/(0,T.jsx)(S.Z,{contextData:{event:101,component:8,element:12969},iconEnd:c?void 0:"arrow-down",isSelected:e,onClick:e=>{t?.(),c?(l({event_type:101,component:13988,element:10949}),e.preventDefault(),_.push({pathname:(0,a.Z)(c),state:{entry_type:"navbar_plus_button"}})):h(e=>!e)},role:c?"link":"button",text:n._('Create', 'header.section.createTab', 'visual label for Create tab button in nav bar')})}),u&&/*#__PURE__*/(0,T.jsxs)(o.Lt,{anchor:d.current,id:"header-create-dropdown",idealDirection:"down",onDismiss:()=>{h(!1)},zIndex:new o.Ry(1e3),children:[/*#__PURE__*/(0,T.jsx)(o.Lt.Link,{dataTestId:"create-idea-pin",href:"/idea-pin-builder/",onClick:()=>m(10949),option:{value:"ideaPin",label:n._('Create Pin for Idea ad', 'header.headerCreateMenu.ideaPinBtn', 'Create Pin for Idea ad button')}}),/*#__PURE__*/(0,T.jsx)(o.Lt.Link,{dataTestId:"create-static-pin",href:"/pin-builder/",onClick:()=>m(10643),option:{value:"pin",label:n._('Create Pin', 'header.headerCreateMenu.pinBtn', 'Create Pin button')}})]})]})};var k=n(382855),O=n(706044),z=n(445162),Z=n(654400),B=n(453854),E=n(241716),R=n(415787);function L({tabs:e}){let t=(0,x.ZP)(),[n,i]=(0,s.useState)(!1),{hovered:a,onMouseEnter:r,onMouseLeave:l}=(0,B.Z)(),c=(0,s.useRef)(null),d=e.find(e=>e.isSelected);d||(d=e.find(e=>"home"===e.key));let u=()=>i(!1);return/*#__PURE__*/(0,T.jsxs)(s.Fragment,{children:[/*#__PURE__*/(0,T.jsx)(o.xu,{ref:c,color:n?"dark":a?"secondary":void 0,"data-test-id":"HeaderCollapsedTabs",display:"inlineBlock",flex:"none",height:48,marginStart:2,minWidth:60,onMouseEnter:r,onMouseLeave:l,rounding:6,children:/*#__PURE__*/(0,T.jsx)(o.iP,{fullHeight:!0,onTap:()=>{i(!n),d?.incrementKey&&(0,R.nP)(d.incrementKey)},rounding:6,children:/*#__PURE__*/(0,T.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"14px 14px",whiteSpace:"nowrap"}},display:"flex",flex:"none",justifyContent:"center",children:[/*#__PURE__*/(0,T.jsx)(o.xv,{align:"center",color:n?"inverse":"default",overflow:"normal",weight:"bold",children:d?.text}),/*#__PURE__*/(0,T.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"1px"}},marginStart:2,children:/*#__PURE__*/(0,T.jsx)(o.JO,{accessibilityLabel:t._('Open tab menu', 'header.tabMenu.downArrow', 'accessibility label for icon indicating more tabs are available in a menu'),color:n?"inverse":"default",icon:"arrow-down",size:12})})]})})}),n&&/*#__PURE__*/(0,T.jsx)(o.xu,{"data-test-id":"HeaderCollapsedTabsMenu",children:/*#__PURE__*/(0,T.jsx)(o.Lt,{anchor:c.current,disableMobileUI:!0,id:"HeaderCollapsedTabsMenu",onDismiss:u,zIndex:new o.H3([new o.Ry(E.fe)]),children:e.map(({isSelected:e,key:n,text:s,url:i})=>/*#__PURE__*/(0,T.jsx)(o.Lt.Link,{href:i,onClick:u,option:{value:n,label:s},children:/*#__PURE__*/(0,T.jsxs)(o.kC,{alignItems:"center",width:"100%",children:[/*#__PURE__*/(0,T.jsx)(o.kC.Item,{flex:"grow",children:/*#__PURE__*/(0,T.jsx)(o.xv,{weight:"bold",children:s})}),/*#__PURE__*/(0,T.jsx)(o.JO,{accessibilityLabel:t._('Selected option', 'flyoutMenu.selectedOptionCheckmark', 'Accessibility label for checkmark icon indicating which option is currently selected'),color:"default",icon:e?"check":void 0,inline:!0})]})},n))})})]})}var D=n(835778),N=n(927648),H=n(961754);function U({children:e,isSelected:t}){let{isLoaded:n,data:s}=(0,H.Z)({name:"ApiResource",options:{url:"/v3/feeds/homefeed/badge/"},noCache:!0});return e(!!(n&&s)&&!t)}function M({anchor:e}){let t=(0,x.ZP)();return/*#__PURE__*/(0,T.jsx)(o.Li,{anchor:e,idealDirection:"down",message:t._('Your home feed will show ideas for your new interests', 'Flyout message on Pinterest logo on Header', 'Flyout message on Pinterest logo on Header'),onDismiss:()=>{}})}var F=n(704595),W=n(781456),Y=n(49969),$=n(599141);function G({isSelected:e,onClick:t}){let n=(0,x.ZP)();(0,Y.Z)({component:8,element:11674});let s=n._('Explore', 'header.section.exploreTab', 'visual label for Explore tab button in nav bar');return/*#__PURE__*/(0,T.jsx)(S.Z,{contextData:{event:101,component:8,element:11674},dataTestId:"today-tab",isSelected:e,onClick:t,showNotifBadge:!0,text:s,url:(0,$.tG)()})}var q=n(402189),Q=n(16535);function V(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let{hidden:K,visibilityChange:X}=(0,h.s)();class J extends s.Component{constructor(e){super(e),V(this,"mounted",!1),V(this,"iconRoutes",(0,k.Z)({username:this.props.viewer.username,isIdeaPinRenamingEnabled:this.props.isIdeaPinRenamingEnabled})),V(this,"logoButtonRef",(0,s.createRef)()),V(this,"profileRef",(0,s.createRef)()),V(this,"incrementOptions",()=>(0,q.iz)(this.props.verticalNavExperimentGroup)),V(this,"getCollapsedTabList",()=>[{key:"home",text:this.props.i18n._('Home', 'header.homeButton.section', 'accessibility label for home button in nav bar'),url:"/",incrementKey:E.sp.HOME_BUTTON_COLLAPSED_TAB},...this.props.isTodayTabEligible?[{key:"explore",text:this.props.i18n._('Explore', 'header.section.exploreTab', 'visual label for Explore tab button in nav bar'),url:(0,$.tG)(),incrementKey:E.sp.TODAY_TAB_COLLAPSED_TAB}]:[],{key:"create",text:this.props.i18n._('Create', 'header.section.createTab', 'visual label for Create tab button in nav bar'),url:(0,a.Z)(this.props.isIdeaPinRenamingEnabled),incrementKey:E.sp.CREATE_TAB_COLLAPSED_TAB}]),V(this,"handleResize",(0,_.Z)(()=>{if(this.mounted){let e=document.getElementById("searchBoxContainer")?.offsetWidth||0;this.setState({searchIconOnly:e<=300}),window.innerWidth<850&&this.props.requestContext?this.setState({shrinkSearchbox:!0}):this.state.shrinkSearchbox&&this.setState({searchIconOnly:!1,shrinkSearchbox:!1})}},100)),V(this,"handleDAUPing",()=>{document[K]||(0,d.Z)()}),V(this,"fetchUserAccounts",()=>{let{userAccountsRetrieved:e,viewer:t}=this.props;t.isAuth&&(0,g.dD)(t).then(t=>{e(t)})}),this.state={searchIconOnly:!1,selected:(0,O.Z)({pathname:e.location.pathname,iconRoutes:this.iconRoutes}),showLeftTabs:!0,shrinkSearchbox:!1}}componentDidMount(){let{headerButtonContext:e}=this.props;this.mounted=!0,this.fetchUserAccounts(),this.handleResize(),window.addEventListener("resize",this.handleResize),(0,s.startTransition)(()=>{e.setLogoButtonRef(this.logoButtonRef.current)}),X&&window.addEventListener(X,this.handleDAUPing,!1)}componentDidUpdate(e){let{location:t}=this.props;if(e.location.pathname!==t.pathname){let e=(0,O.Z)({pathname:t.pathname,iconRoutes:this.iconRoutes});this.setState({selected:e})}}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),X&&window.removeEventListener(X,this.handleDAUPing),this.mounted=!1}renderSearchBox(){let{history:e}=this.props,{searchIconOnly:t,shrinkSearchbox:n}=this.state;return e?.push?/*#__PURE__*/(0,T.jsx)(v.Z,{handleIconOnlyChange:e=>this.setState({showLeftTabs:t&&e}),iconOnly:t,widthType:n?"shrink":void 0}):null}renderButtons(){let{currentSite:e,headerButtonContext:t,isVerticalNavEnabled:n,onMouseDownHomefeedPrefetch:i,onNavigateToHomefeedMousedownPrefetch:a}=this.props,{selected:r,showLeftTabs:l,shrinkSearchbox:c}=this.state;return n?/*#__PURE__*/(0,T.jsxs)(o.xu,{alignItems:"center",column:12,"data-test-id":"button-container",display:"flex",height:56,children:[this.renderSearchBox(),/*#__PURE__*/(0,T.jsx)(o.kC.Item,{children:/*#__PURE__*/(0,T.jsx)(F.Z,{children:/*#__PURE__*/(0,T.jsx)(z.Z,{idealTooltipDirection:"down",isSelected:"profile"===r,onClick:()=>(0,R.nP)(q.Un.AVATAR,this.incrementOptions()),tooltipZIndex:q.BO})})}),/*#__PURE__*/(0,T.jsx)(o.kC.Item,{children:/*#__PURE__*/(0,T.jsx)(p.Z,{currentSite:e,iconLabel:this.props.i18n._('Accounts', 'header.accountOptionsButton.accountsOnly', 'accessibility label for accounts button in nav bar'),onPanelChange:e=>{e&&(0,R.nP)(q.Un.ACCOUNT_SWITCHER)},showMoreOptions:!1})})]}):/*#__PURE__*/(0,T.jsxs)(o.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[/*#__PURE__*/(0,T.jsxs)(o.xu,{children:[/*#__PURE__*/(0,T.jsx)(o.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:/*#__PURE__*/(0,T.jsx)(N.Z,{onClick:()=>{(0,R.nP)(E.sp.PINTEREST_LOGO,this.incrementOptions()),a?.()},onMouseDown:i},"HomeButton")}),t.isTooltipOnLogoButtonShown&&/*#__PURE__*/(0,T.jsx)(M,{anchor:this.logoButtonRef.current})]}),!c&&l&&/*#__PURE__*/(0,T.jsxs)(s.Fragment,{children:[/*#__PURE__*/(0,T.jsx)(U,{isSelected:"home"===r,children:e=>/*#__PURE__*/(0,T.jsx)(S.Z,{dataTestId:"home-tab",isSelected:"home"===r,onClick:()=>(0,R.nP)(E.sp.HOME_TAB,this.incrementOptions()),showNotifBadge:e,text:this.props.i18n._('Home', 'header.homeButton.section', 'accessibility label for home button in nav bar'),url:"/"})}),this.props.isTodayTabEligible&&/*#__PURE__*/(0,T.jsx)(G,{isSelected:"today"===r,onClick:()=>(0,R.nP)(E.sp.TODAY_TAB,this.incrementOptions())}),/*#__PURE__*/(0,T.jsx)(I,{isSelected:"create"===r,onClick:()=>(0,R.nP)(E.sp.CREATE_TAB,this.incrementOptions())})]}),c&&l&&/*#__PURE__*/(0,T.jsx)(L,{tabs:this.getCollapsedTabList().map(e=>({isSelected:r===e.key,...e}))}),this.renderSearchBox(),/*#__PURE__*/(0,T.jsxs)(o.xu,{alignItems:"center","data-test-id":"button-container",display:"flex",children:[/*#__PURE__*/(0,T.jsx)(W.F,{value:{currentSite:e},children:/*#__PURE__*/(0,T.jsx)(Q.Z,{onConversationsClick:()=>(0,R.nP)(E.sp.CONVERSATIONS,this.incrementOptions()),onNewsClick:()=>(0,R.nP)(E.sp.NEWS,this.incrementOptions())})}),/*#__PURE__*/(0,T.jsxs)(s.Fragment,{children:[/*#__PURE__*/(0,T.jsx)(o.xu,{ref:this.profileRef,children:/*#__PURE__*/(0,T.jsx)(F.Z,{children:/*#__PURE__*/(0,T.jsx)(z.Z,{isSelected:"profile"===r,onClick:()=>(0,R.nP)(E.sp.AVATAR,this.incrementOptions())})})}),/*#__PURE__*/(0,T.jsx)(p.Z,{currentSite:e,onClick:()=>(0,R.nP)(E.sp.ACCOUNT_OPTIONS,this.incrementOptions())})]})]})]})}renderHomeButtonAndAccountSwitcher(){let{currentSite:e,headerButtonContext:t}=this.props,{selected:n}=this.state;return/*#__PURE__*/(0,T.jsxs)(o.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[/*#__PURE__*/(0,T.jsxs)(o.xu,{children:[/*#__PURE__*/(0,T.jsx)(o.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:/*#__PURE__*/(0,T.jsx)(N.Z,{onClick:()=>(0,R.nP)(E.sp.EXTERNAL_BUTTON_QUERY_PINTEREST_LOGO,this.incrementOptions())},"HomeButton")}),t.isTooltipOnLogoButtonShown&&/*#__PURE__*/(0,T.jsx)(M,{anchor:this.logoButtonRef.current})]}),/*#__PURE__*/(0,T.jsx)(o.xu,{flex:"grow"}),/*#__PURE__*/(0,T.jsx)(o.xu,{alignItems:"center","data-test-id":"button-container",display:"flex",children:/*#__PURE__*/(0,T.jsxs)(s.Fragment,{children:[/*#__PURE__*/(0,T.jsx)(o.xu,{ref:this.profileRef,children:/*#__PURE__*/(0,T.jsx)(F.Z,{children:/*#__PURE__*/(0,T.jsx)(z.Z,{isSelected:"profile"===n,onClick:()=>(0,R.nP)(E.sp.EXTERNAL_BUTTON_QUERY_AVATAR,this.incrementOptions())})})}),/*#__PURE__*/(0,T.jsx)(p.Z,{currentSite:e,onClick:()=>(0,R.nP)(E.sp.EXTERNAL_BUTTON_QUERY_ACCOUNT_OPTIONS,this.incrementOptions())})]})})]})}renderBusinessSsoPageHeader(){let{i18n:e}=this.props;return/*#__PURE__*/(0,T.jsxs)(o.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[/*#__PURE__*/(0,T.jsx)(o.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:/*#__PURE__*/(0,T.jsx)(N.Z,{onClick:()=>(0,R.nP)(E.sp.SSO_PAGE_PINTEREST_LOGO,this.incrementOptions())},"HomeButton")}),/*#__PURE__*/(0,T.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{letterSpacing:"-1px"}},children:/*#__PURE__*/(0,T.jsx)(o.X6,{accessibilityLevel:2,color:"default",overflow:"normal",size:"400",children:e._('Business', 'authHeader.logoText.business', 'Business text for the sso signup page header')})})]})}renderUnsubscribePageHeader(){let{history:e,i18n:t,trackInteraction:n}=this.props;return/*#__PURE__*/(0,T.jsxs)(o.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[/*#__PURE__*/(0,T.jsx)(o.xu,{children:/*#__PURE__*/(0,T.jsx)(N.Z,{onClick:()=>(0,R.nP)(E.sp.UNSUBSCRIBE_PAGE_PINTEREST_LOGO,this.incrementOptions())},"HomeButton")}),/*#__PURE__*/(0,T.jsx)(o.xu,{flex:"grow"}),/*#__PURE__*/(0,T.jsx)(o.xu,{alignItems:"center","data-test-id":"button-container",display:"flex",children:/*#__PURE__*/(0,T.jsx)(o.iP,{onTap:()=>{e.push("/"),n({action:"click",item:"back-to-pinterest",within:"unsubscribe-page"})},rounding:2,tapStyle:"compress",children:/*#__PURE__*/(0,T.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[/*#__PURE__*/(0,T.jsx)(o.xv,{inline:!0,size:"300",weight:"bold",children:t._('Back to Pinterest', 'header.backToPinterest.section', 'Button that allows one-click going back to Pinterest homefeed from email unsubscribe page')}),/*#__PURE__*/(0,T.jsx)(z.Z,{isSelected:!1,noNavigation:!0,onClick:()=>(0,R.nP)(E.sp.UNSUBSCRIBE_PAGE_AVATAR,this.incrementOptions())})]})})})]})}renderHeaderContent(){let{location:e,viewer:t}=this.props;if((0,f.RU)(e)){let t=(0,w.mB)(e.search);if((0,u.Z)(t))return this.renderHomeButtonAndAccountSwitcher()}else if((0,f.OK)(e)&&t.isLimitedLogin)return this.renderUnsubscribePageHeader();else if((0,f.nU)(e))return this.renderBusinessSsoPageHeader();return this.renderButtons()}render(){let{headerShadowContext:{isScrolled:e,subheaderShadow:t},nags:n}=this.props;return/*#__PURE__*/(0,T.jsxs)(o.xu,{color:"default",column:12,"data-test-id":"header-background",children:[n,/*#__PURE__*/(0,T.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{...null===t&&e?E.Rz:{}}},children:/*#__PURE__*/(0,T.jsx)(o.kC,{direction:"column",height:E.cI,justifyContent:"start",width:"100%",children:/*#__PURE__*/(0,T.jsx)(o.xu,{alignItems:"center",column:12,display:"flex",flex:"grow",paddingX:4,children:this.renderHeaderContent()})})})]})}}function ee(e){let t=(0,x.ZP)(),n=(0,y.B)(),{checkExperiment:s}=(0,b.F)(),{userAccountsRetrieved:o}=(0,P.N)(),a=(0,j.Z)(),{onMouseDown:d,onNavigateToHomefeed:u}=(0,c.Z)(),{enabled:h,group:_}=(0,l.Z)();s("social_experience_holdout_2024_h2"),s("social_experience_holdout_2025_h1"),s("ce_project_habit_holdout_2025_h1");let p=(0,r.Z)(!0),f=(0,A.Z)();return(0,m.Ow)(1000109),/*#__PURE__*/(0,T.jsx)(J,{...e,headerButtonContext:(0,Z.p)(),headerShadowContext:(0,D.WQ)(),history:(0,i.k6)(),i18n:t,isIdeaPinRenamingEnabled:p,isTodayTabEligible:f,isVerticalNavEnabled:h,location:(0,i.TH)(),onMouseDownHomefeedPrefetch:d,onNavigateToHomefeedMousedownPrefetch:u,requestContext:n,showPersonalBoutique:e.viewer.show_personal_boutique??!1,trackInteraction:a,userAccountsRetrieved:o,verticalNavExperimentGroup:_})}},445162:(e,t,n)=>{n.d(t,{Z:()=>A});var s=n(667294),i=n(883119),o=n(503546),a=n(989820),r=n(559028),l=n(144326),c=n(899544),d=n(343583),u=n(730212),h=n(754166),_=n(453854),m=n(383399),p=n(732567),x=n(241716),f=n(402189),g=n(785893);let b="circle";function y({children:e,show:t,text:n,idealDirection:s,zIndex:o}){return t?/*#__PURE__*/(0,g.jsx)(i.u,{accessibilityLabel:"",idealDirection:s,text:n,zIndex:o||new i.H3([new i.Ry(x.fe)]),children:e}):e}function A({isAdsSite:e=!1,isAnalyticsSite:t=!1,isTrendsSite:n=!1,isSelected:x,noNavigation:A=!1,idealTooltipDirection:j,tooltipZIndex:w,onClick:P}){let v=(0,m.Z)(),C=(0,u.B)(),S=(0,l.ZP)(),{active:T,hovered:I,onBlur:k,onFocus:O,onMouseDown:z,onMouseUp:Z,onMouseEnter:B,onMouseLeave:E}=(0,_.Z)(),{fullName:R,username:L,imageMediumUrl:D}=v.isAuth?v:{fullName:"",username:"",imageMediumUrl:""},N=v.isAuth?v?.avatar_color_index:void 0,{isInBiznuxFullscreen:H}=(0,p.Z)(),U=(0,s.useRef)(null),M=(0,h.Z)({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:`/${L}/`,requestContext:C}),F=(0,d.Z)({href:M,onHistoryChange:c.Z}),{enabled:W}=(0,o.Z)();return H||A?/*#__PURE__*/(0,g.jsx)(i.xu,{"data-test-id":"header-profile",height:48,rounding:"circle",width:48,children:/*#__PURE__*/(0,g.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:/*#__PURE__*/(0,g.jsx)(i.xu,{alignItems:"center",display:"flex",height:30,justifyContent:"center",rounding:"circle",width:30,children:/*#__PURE__*/(0,g.jsx)(r.qE,{color:N,name:R,size:"xs",src:D})})})}):/*#__PURE__*/(0,g.jsxs)(i.xu,{"data-test-id":"header-profile",children:[/*#__PURE__*/(0,g.jsx)(a.N,{anchors:{3014:U.current},idealDirection:j,onAnchorTouch:"complete",placementId:1000109,scrollToDismiss:!0}),/*#__PURE__*/(0,g.jsx)(y,{idealDirection:j,show:![e,t,n].some(Boolean),text:S._('Your profile', 'navbar.avatarButton.tooltip', 'Tooltip text for button leading to user\'s profile'),zIndex:w,children:/*#__PURE__*/(0,g.jsx)(i.Tg,{href:M,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{P?.(),t(),F({event:e})},rounding:W?f.uW:b,children:/*#__PURE__*/(0,g.jsx)(i.xu,{ref:U,color:I&&!W?"secondary":void 0,dangerouslySetInlineStyle:W?{__style:{backgroundColor:I?f.bT:void 0}}:void 0,height:48,onBlur:k,onFocus:O,onMouseDown:z,onMouseEnter:B,onMouseLeave:E,onMouseUp:Z,rounding:W?f.uW:b,width:48,children:/*#__PURE__*/(0,g.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:/*#__PURE__*/(0,g.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...T||x?{border:"2px solid #111111"}:{}}},display:"flex",height:W?38:30,justifyContent:"center",rounding:"circle",width:W?38:30,children:/*#__PURE__*/(0,g.jsx)(r.qE,{color:N,name:R,size:W?"sm":"xs",src:D})})})})})})]})}},704595:(e,t,n)=>{n.d(t,{Z:()=>f});var s=n(667294),i=n(883119),o=n(512541),a=n(732567),r=n(66560),l=n(785893);function c(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d="SavePin",u={__style:{left:"50%",marginLeft:-125}},h={__style:{animationName:`${d}_AnimateIn, ${d}_CircleAnimateOut`,animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},_={__style:{animationName:`${d}_AnimateIn, ${d}_AnimateOut`,animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},m={__style:{animationName:`${d}_NavButtonAnimation`,animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},p=()=>`
@keyframes ${d}_AnimateIn {
  from {
    transform: scale(0.0);
    opacity: 0;
  }
  to {
    opacity: 1;
    transform: scale(1.0);
  }
}
@keyframes ${d}_CircleAnimateOut {
  from {
    transform: scale(1.0);
    opacity: 1;
  }
  to {
    transform: scale(0.8);
    opacity: 0;
  }
}
@keyframes ${d}_AnimateOut {
  from {
    transform: translateY(0) scale(1.0);
    opacity: 1;
  }
  to {
    transform: translateY(-100px) scale(0.0);
    opacity: 0;
  }
}
@keyframes ${d}_NavButtonAnimation {
  0% {
    transform: scale(1.0);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1.0);
  }
}
`;class x extends s.Component{constructor(...e){super(...e),c(this,"state",{imageLoaded:!1}),c(this,"handleAnimationCompletion",()=>{let{animationEnded:e}=this.props;this.setState({imageLoaded:!1},()=>{e()})}),c(this,"handleImageLoad",()=>{this.setState({imageLoaded:!0})}),c(this,"loadImage",()=>{let e=new Image;e.onload=this.handleImageLoad,e.src=this.imageSrc()}),c(this,"imageSrc",()=>{let{images:e={}}=this.props.lastRepin||{};return e["236x"]?.url??""}),c(this,"shouldRenderAnimation",()=>{let{lastRepin:e,startAnimation:t}=this.props,{imageLoaded:n}=this.state;return!!(e&&n&&t)})}componentDidUpdate(e,t){let{lastRepin:n={}}=e,{imageLoaded:s}=t,{lastRepin:i,startAnimation:o}=this.props,{imageLoaded:a}=this.state;i&&i.id!==n?.id&&this.loadImage(),o&&a&&a!==s&&(this.dismissTimeout=setTimeout(this.handleAnimationCompletion,2500))}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}render(){let{children:e}=this.props;return this.shouldRenderAnimation()?/*#__PURE__*/(0,l.jsxs)(i.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[/*#__PURE__*/(0,l.jsx)(o.Z,{unsafeCSS:p()}),/*#__PURE__*/(0,l.jsxs)(i.xu,{position:"relative",children:[/*#__PURE__*/(0,l.jsxs)(i.xu,{dangerouslySetInlineStyle:u,height:250,position:"absolute",top:!0,width:250,children:[/*#__PURE__*/(0,l.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:h,display:"flex",height:"100%",justifyContent:"center",opacity:0,rounding:"circle",width:"100%"}),/*#__PURE__*/(0,l.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:_,height:100,left:!0,margin:"auto",opacity:0,position:"absolute",right:!0,rounding:3,top:!0,width:100,children:/*#__PURE__*/(0,l.jsx)(i.zd,{height:"100%",rounding:2,wash:!0,width:"100%",children:/*#__PURE__*/(0,l.jsx)(i.Ee,{alt:"pin-image",fit:"cover",naturalHeight:1,naturalWidth:1,src:this.imageSrc()})})})]}),/*#__PURE__*/(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:m,children:e})]})]}):e}}function f(e){let{repinPinId:t,repinStartAnimation:n,updateHeaderState:s}=(0,a.Z)(),i=(0,r.S6)(),o=t?i(t):null;return/*#__PURE__*/(0,l.jsx)(x,{...e,animationEnded:()=>s({type:"hideRepinAnimation"}),lastRepin:o,startAnimation:n})}},16535:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(667294),i=n(383399),o=n(694735),a=n(301751),r=n(785893);function l({onNewsClick:e,onConversationsClick:t}){let n=(0,i.Z)();return/*#__PURE__*/(0,r.jsxs)(s.Fragment,{children:[/*#__PURE__*/(0,r.jsx)(o.Z,{onClick:e}),n.isAuth&&n.should_show_messaging&&/*#__PURE__*/(0,r.jsx)(a.Z,{onClick:t})]})}},461661:(e,t,n)=>{n.d(t,{Z:()=>i,x:()=>o});var s=n(580505);function i({user:e,viewer:t}){return!!(t.isAuth&&e?.username===t.username)}function o({user:e,viewer:t,location:n}){let{id:i}=e||{},{id:o,isAuth:a}=t,{pathname:r=""}=n||{};return!!(a&&o===i&&r.includes(`/${s.qV}/`))}},580505:(e,t,n)=>{n.d(t,{Lz:()=>o,qV:()=>s,sz:()=>i});let s="_profile",i={enabled_with_unorganized_feed:"enabled_with_unorganized_feed",enabled_with_log_fix:"enabled_with_log_fix",enabled_old:"enabled_old"},o=506467},664331:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(616550),i=n(961754);function o(e){let{username:t}=(0,s.UO)();return(0,i.Z)(e||null==t?null:{name:"UserResource",options:{username:t,field_set_key:"profile"}})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/AuthDesktopHeader-a2276dc9cee6aa89.mjs.map